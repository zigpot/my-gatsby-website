{"version":3,"file":"component---src-pages-literatures-mdx-frontmatter-slug-js-content-file-path-blog-setting-up-gas-sensor-for-microcontroller-index-mdx-cb99333aa0481fd6e017.js","mappings":"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","sources":["webpack://my-gatsby-site/./blog/setting-up-gas-sensor-for-microcontroller/index.mdx","webpack://my-gatsby-site/./src/pages/literatures/{mdx.frontmatter__slug}.js","webpack://my-gatsby-site/./src/components/layout.module.css","webpack://my-gatsby-site/./src/components/layout.js","webpack://my-gatsby-site/./src/components/seo.js","webpack://my-gatsby-site/./src/utils/formatDate.js","webpack://my-gatsby-site/./node_modules/@mdx-js/react/lib/index.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    img: \"img\",\n    h2: \"h2\",\n    pre: \"pre\",\n    code: \"code\",\n    em: \"em\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"Gas sensors are electronic components that undergo change in physical characteristic (such as resistivity) in the presence of certain gases in the atmosphere. Gas sensors have many applications, from gas leakage early warning system, air quality monitor, to \", React.createElement(_components.a, {\n    href: \"https://ijaseit.insightsociety.org/index.php?option=com_content&view=article&id=9&Itemid=1&article_id=1659\"\n  }, \"electronic noses\"), \". In this article we'll be using Arduino and a gas sensor (\", React.createElement(_components.a, {\n    href: \"https://www.figarosensor.com/product/feature/combustible-gas-sensors.html\"\n  }, \"TG2600\"), \") to measure methane concentration in the air.\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/tgs2600_1.jpg?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"TGS2600\"), \"\\n\", React.createElement(_components.h2, null, \"finding the equation\"), \"\\n\", React.createElement(_components.p, null, \"Every sensor has it's own characteristics. Characteristics of sensors include sensitivity, resolution, linearity, etc. Knowing the sensor's characteristics allows us to map a certain value from the sensor to a physical condition, in our case, the concentration of a certain gas.\"), \"\\n\", React.createElement(_components.p, null, \"These characteristics of sensor is usually specified in the manufacturer's datasheet. \", React.createElement(_components.a, {\n    href: \"https://www.figarosensor.com/product/docs/TGS2600B00%20(0913).pdf\"\n  }, \"Here\"), \" is the datasheet for TGS2600. At the bottom of the first page is this graph:\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/sensitivity.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"A graphic representation like that isn't particularly suitable for implementation. A better way would be knowing the equation first. After choosing a gas we need pin some coordinate points along the graphic line. For instance, if we choose methane, we can pick some points on methane's line which is going to look like this:\"), \"\\n\", React.createElement(\"table\", null, React.createElement(\"tbody\", null, React.createElement(\"tr\", null, React.createElement(\"td\", null, \"R\", React.createElement(\"sub\", null, \"s\"), \"/R\", React.createElement(\"sub\", null, \"o\")), React.createElement(\"td\", null, \"Gas Concentration (ppm)\")), React.createElement(\"tr\", null, React.createElement(\"td\", null, \"1\"), React.createElement(\"td\", null, \"3\")), React.createElement(\"tr\", null, React.createElement(\"td\", null, \"0.95\"), React.createElement(\"td\", null, \"5\")), React.createElement(\"tr\", null, React.createElement(\"td\", null, \"0.9\"), React.createElement(\"td\", null, \"10\")), React.createElement(\"tr\", null, React.createElement(\"td\", null, \"0.8\"), React.createElement(\"td\", null, \"30\")), React.createElement(\"tr\", null, React.createElement(\"td\", null, \"0.75\"), React.createElement(\"td\", null, \"40\")), React.createElement(\"tr\", null, React.createElement(\"td\", null, \"0.7\"), React.createElement(\"td\", null, \"80\")))), \"\\n\", React.createElement(_components.p, null, \"Now we're ready to find an equation. We can use any tools that accommodate power regression such as a calculators, R Studio, or even spreadsheet software (my lecturer actually uses this!). Python is simple and ubiquitous, so let's use that.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"from scipy.optimize import curve_fit\\nimport matplotlib.pyplot as plt\\n\\nx = [1, 0.95, 0.9, 0.8, 0.75, .7] #Rs/Ro\\ny = [3, 5, 10, 30, 40, 80] #ppm\\n\")), \"\\n\", React.createElement(_components.p, null, \"Notice that our input is the resistance and the output is the concentration, hence Rs/Ro as the \", React.createElement(_components.em, null, \"x\"), \" axis, and ppm as the \", React.createElement(_components.em, null, \"y\"), \" axis. Let's try put the data points back on a log-log scale.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"x = [1, 0.95, 0.9, 0.8, 0.75, .7] #Rs/Ro\\ny = [ 3, 5, 10, 30, 40, 80] #ppm\\nplt.xscale(\\\"log\\\")\\nplt.yscale(\\\"log\\\")\\nplt.xlabel('xlabel')\\nplt.ylabel('ylabel')\\nplt.scatter(x, y, c= 'red', alpha = 0.8, s = 18)\\nplt.legend()\\nplt.show()\\n\")), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/scatter.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"We should see quite obviously, that the regression line will have a negative slope (as x increases, y decreases). With b being a positive number, our equation should be given below:\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/codecogseqn1.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"Scipy has a nice method called optimize.curve_fit which allows us to perform non-linear regression on a set of data points, given a function model. So that's it, we'll use curve_fit and feed it with our data x and y, and also throw our equation above in as an anonymous function (also known as a lambda).\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"popt, pcov = curve_fit(lambda fx,a,b: a*fx**-b,  x,  y)\\nx_linspace = np.linspace(min(x), max(x), 100)\\npower_y = popt[0]*x_linspace**-popt[1]\\nplt.scatter(x, y, label='data points', c= 'red', alpha = 0.5, s = 18)\\nplt.plot(x, power_y, label='power fit regression')\\nplt.legend()\\nplt.show()\\n\")), \"\\n\", React.createElement(_components.p, null, \"This performs power fit regression on the data, as seen below:\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/powerfit-3.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"That was sufficient as we only need an equation. However if the power fit isn't smooth enough, for the sake of graphical representation of our equation, we can use NumPy, to generate more points to represent the regression. That'll render a smoother appearance to our line.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"import numpy as np\\n\\nx = [1, 0.95, 0.9, 0.8, 0.75, .7]\\ny = [3, 5, 10, 30, 40, 80]\\npopt, pcov = curve_fit(lambda fx,a,b: a*fx**-b,  x,  y)\\nx_linspace = np.linspace(min(x), max(x), 100)\\npower_y = popt[0]*x_linspace**-popt[1]\\n\\nplt.xlabel('rs/ro')\\nplt.ylabel('concentration (ppm)')\\nplt.scatter(x, y, label='data points', c= 'red', alpha = 0.5, s = 18)\\nplt.plot(x_linspace, power_y, label='power fit regression (smooth)')\\nplt.legend()\\nplt.show()\\n\")), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/powerfitsmooth-1.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"Back to the equation, we need to know the value of a and b. This was returned by curve_fit as an array with two elements (we named it popt):\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"print('The regressions equation is {:.2f}x^-{:.2f}'\\n.format(popt[0],popt[1]))\\n\")), \"\\n\", React.createElement(_components.p, null, \"That would give us:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"The regressions equation is 3.92x^-8.42\\n\")), \"\\n\", React.createElement(_components.h2, null, \"the circuit (simple volt divider)\"), \"\\n\", React.createElement(_components.p, null, \"The electronic circuit below explains TGS2600 operational configuration. There are three resistive points:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"RH: an isolated resistive element for heating. This heater is voltage supplied by VH.\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"RS: our sensor's variable resistor. This is the part that changes it's resistance according to gas concentration.\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"RL: load resistance.\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/the-tgs-2600-gas-sensor-a-the-characteristics-and-b-its-electrical-circuit-10_w640.jpg?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"This is how it works:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"This circuit act as a basic voltage divider. Knowing the voltage output (VRL) and load resistor RL allows us to know the sensor resistance (RS) as shown by the equation above.\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"RS in our circuit denotes the sensor resistor. However, in terms of resistance, RS is the resistance when a contaminant (Methane, CO, Iso-butane, etc) exists in the air. In the absence of contaminants in the air, the resistance is called RO. This baseline resistance (RO) has to be known prior to performing any operations. The calibration is performed by blowing fresh air onto the sensor (cleaning any remaining contaminants) and measuring the value of RS in a clean environment.\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"We can compare previously measured RO to currently measured RS as a ratio and plug it in to our non-linear equation to obtain the value of gas concentration (ppm) in the air.\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Now let's solve:\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/codecogseqn3.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/codecogseqn4.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.p, null, \"And plug it into the regression formula:\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://zigpot.files.wordpress.com/2021/09/codecogseqn5.png?w=500\",\n    alt: \"\"\n  }), \"\\n\", React.createElement(_components.h2, null, \"knowing the limits\"), \"\\n\", React.createElement(_components.p, null, \"As we have seen in the graph above, the graph line only spans from 1 to 100 ppm. This is the range in which our sensor performs effectively, according to our manufacturer. Any value of RS/R0 that corresponds outside this range will be simply rejected for further measuring.\"), \"\\n\", React.createElement(_components.p, null, \"To get the limits (the minimum and maximum value), we can simply invert our regression equation, and plug in the corresponding value of 1 and 100 respectively.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"print(\\\"min value = {}\\\".format(pow(1/popt[0],1/popt[1])))\\nprint(\\\"max value = {}\\\".format(pow(100/popt[0],1/popt[1])))\\n\")), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"min value = 0.8501540319805124\\nmax value = 1.4691487900527789\\n\")), \"\\n\", React.createElement(_components.h2, null, \"writing the code\"), \"\\n\", React.createElement(_components.p, null, \"Now let's program our Arduino! We assume the circuit has been build according to the specification (5V operating voltage etc.) so all we need to do right now is plugging the output of VRL to an analog pin. Let's choose A1 as our pin. Also let's name all of the variables we have acquired previously.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"const int sensorInputPin = A1;\\nconst int r_load = 33000;\\nlong r_zero = 41763;\\nconst float X_min = 0.850;\\nconst float X_max = 1.469;\\nconst float a = 3.92;\\nconst float b = -8.42;\\n\\nvoid setup() {\\n  pinMode(sensorInputPin, INPUT);\\n  Serial.begin(9600);\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"As our input will be dividing the maximum value of the analog input (1024), we don't need to convert them to voltage. We can then write our equation down and sort out every value that exceeds the limit.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"void loop() {\\n  int rawInput = analogRead(sensorInputPin);\\n  long r_sensor = ((1024.0 * r_load) / rawInput) - r_load;\\n  float rSrO = (float)rS / (float)rO;\\n  if (rSrO > X_max) Serial.println(\\\"Out of range (above 100 ppm).\\\");\\n  else if(rSrO < X_min) Serial.println(\\\"Out of range (below 1 ppm).\\\");\\n  else{\\n    float ppm = a * pow((float)rS / (float)rO, b);\\n    Serial.print(\\\"gas concentration: \\\");\\n    Serial.print(ppm);\\n    Serial.println(\\\" ppm\\\");\\n  }\\n  delay(1000);\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Check out the full code on my \", React.createElement(_components.a, {\n    href: \"https://github.com/zigpot/tgs2600-on-arduino/\"\n  }, \"GitHub\"), \".\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/fariz/tmp/my-gatsby-site/blog/setting-up-gas-sensor-for-microcontroller/index.mdx\";\nimport * as React from 'react';\nimport {graphql} from 'gatsby';\nimport Layout from '../../components/layout';\nimport Seo from '../../components/seo';\nimport './blog.css';\nimport formatDate from '../../utils/formatDate';\nconst LiteraturePost = ({data, children}) => {\n  return React.createElement(Layout, {\n    pageTitle: data.mdx.frontmatter.title\n  }, React.createElement(\"div\", {\n    className: \"text-body\"\n  }, React.createElement(\"div\", {\n    className: \"text-author\"\n  }, data.mdx.frontmatter.author), React.createElement(\"div\", {\n    className: \"text-date\"\n  }, formatDate(data.mdx.frontmatter.date)), children));\n};\nexport const query = graphql`\n  query ($id: String) {\n    mdx(id: {eq: $id}) {\n      frontmatter {\n        title\n        date\n        author\n      }\n    }\n  }\n`;\nexport const Head = ({data}) => React.createElement(Seo, {\n  title: data.mdx.frontmatter.title\n});\nLiteraturePost\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(LiteraturePost, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n","// extracted by mini-css-extract-plugin\nexport var container = \"layout-module--container--78b04\";\nexport var footerDiv = \"layout-module--footer-div--0a652\";\nexport var heading = \"layout-module--heading--f158c\";\nexport var navLinkItem = \"layout-module--nav-link-item--a5f0a\";\nexport var navLinkText = \"layout-module--nav-link-text--69cda\";\nexport var navLinks = \"layout-module--nav-links--1113b\";\nexport var siteTitle = \"layout-module--site-title--e4dea\";","import * as React from 'react'\nimport { Link, useStaticQuery, graphql } from 'gatsby'\nimport {\n  container,\n  heading,\n  navLinks,\n  navLinkItem,\n  navLinkText,\n  siteTitle,\n} from './layout.module.css'\n\nconst Layout = ({ pageTitle, children }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <div className={container}>\n      <header className={siteTitle}>{data.site.siteMetadata.title}</header>\n      <nav>\n        <ul className={navLinks}>\n          <li className={navLinkItem}>\n            <Link to=\"/\" className={navLinkText}>\n              Home\n            </Link>\n          </li>\n          <li className={navLinkItem}>\n            <Link to=\"/literatures\" className={navLinkText}>\n              Literatures\n            </Link>\n          </li>\n          <li className={navLinkItem}>\n            <Link to=\"/blog\" className={navLinkText}>\n              etc\n            </Link>\n          </li>\n          <li className={navLinkItem}>\n            <Link to=\"/terms\" className={navLinkText}>\n              Terms\n            </Link>\n          </li>\n          <li className={navLinkItem}>\n            <Link to=\"/about\" className={navLinkText}>\n              About\n            </Link>\n          </li>\n        </ul>\n      </nav>\n      <main>\n        <h1 className={heading}>{pageTitle}</h1>\n        {children}\n      </main>\n      <div style={{\"height\": \"40px\", backgroundColor: \"transparent\", textAlign:\"center\", fontSize:\"xx-small\", paddingTop: \"20px\"}} className='footer-div'></div>\n    </div>\n  )\n}\n\nexport default Layout","import * as React from 'react'\nimport { graphql, useStaticQuery } from 'gatsby'\n\nconst Seo = ({ title }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <title>{title} | {data.site.siteMetadata.title}</title>\n  )\n}\n\nexport default Seo","\nconst formatDate = (date) => {\n    var parts = date.split('-');\n    // Please pay attention to the month (parts[1]); JavaScript counts months from 0:\n    // January - 0, February - 1, etc.\n    var mydate = new Date(parts[0], parts[1] - 1, parts[2]); \n    return mydate.toDateString();\n  }\n\nexport default formatDate;","/**\n * @typedef {import('mdx/types.js').MDXComponents} MDXComponents\n * @typedef {import('react').Component<{}, {}, unknown>} Component\n * @typedef {import('react').ReactNode} ReactNode\n */\n\n/**\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Readonly<MDXComponents>} currentComponents\n *   Current components from the context.\n * @returns {MDXComponents}\n *   Additional components.\n *\n * @typedef Props\n *   Configuration for `MDXProvider`.\n * @property {ReactNode | null | undefined} [children]\n *   Children (optional).\n * @property {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context (default: `false`).\n */\n\nimport React from 'react'\n\n/** @type {Readonly<MDXComponents>} */\nconst emptyComponents = {}\n\nconst MDXContext = React.createContext(emptyComponents)\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Readonly<MDXComponents> | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that creates them (optional).\n * @returns {MDXComponents}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(\n    function () {\n      // Custom merge via a function prop\n      if (typeof components === 'function') {\n        return components(contextComponents)\n      }\n\n      return {...contextComponents, ...components}\n    },\n    [contextComponents, components]\n  )\n}\n\n/**\n * Provider for MDX context.\n *\n * @param {Readonly<Props>} props\n *   Props.\n * @returns {JSX.Element}\n *   Element.\n * @satisfies {Component}\n */\nexport function MDXProvider(props) {\n  /** @type {Readonly<MDXComponents>} */\n  let allComponents\n\n  if (props.disableParentContext) {\n    allComponents =\n      typeof props.components === 'function'\n        ? props.components(emptyComponents)\n        : props.components || emptyComponents\n  } else {\n    allComponents = useMDXComponents(props.components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    props.children\n  )\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","p","a","img","h2","pre","code","em","ul","li","_provideComponents","components","React","href","src","alt","wrapper","MDXLayout","LiteraturePost","_ref","data","children","Layout","pageTitle","mdx","frontmatter","title","className","author","formatDate","date","Head","_ref2","Seo","GatsbyMDXWrapper","GATSBY_COMPILED_MDX","navLinkItem","navLinkText","useStaticQuery","site","siteMetadata","Link","to","style","backgroundColor","textAlign","fontSize","paddingTop","parts","split","Date","toDateString","emptyComponents","MDXContext","useMDXComponents","contextComponents"],"sourceRoot":""}